<div class="featured-blog">
    <ng-container *ngIf="blogs && !blocked; else loading">
        <div class="featured-blog__main">
            <img routerLinkActive="active" routerLink="/blog/{{ blogs[0].id }}" [src]="blogs[0].thumbnail_url" [alt]="blogs[0].title" class="featured-blog__main__image" />
            <div class="featured-blog__main__content">
                <span routerLinkActive="active" routerLink="/profile/{{ blogs[0].author.id }}" class="featured-blog__main__content__author">
                    <p-avatar [image]="blogs[0].author.profile_image" styleClass="mr-2" shape="circle" />
                    <p class="featured-blog__main__content__author__meta">
                        {{ blogs[0].author.full_name }} - {{ blogs[0].created_at |
                        date: 'dd/MM/yyyy' }} • {{ blogs[0].min_read }} phút</p>
                </span>
                <h2 routerLinkActive="active" routerLink="/blog/{{ blogs[0].id }}" class="featured-blog__main__content__title">{{ blogs[0].title }}</h2>
                <p class="featured-blog__main__content__description">{{ blogs[0].description }}</p>
                <div class="featured-blog__main__content__tag-group">
                    <p-tag *ngFor="let tag of blogs[0].blog_tag" [value]="tag.category.name" [rounded]="true" />
                </div>
            </div>
        </div>

        <div class="featured-blog__sidebar">
            <ng-container *ngFor="let item of blogs.slice(1)">
                <div class="featured-blog__sidebar__post">
                    <div class="featured-blog__sidebar__post__image">
                        <img routerLinkActive="active" routerLink="/blog/{{ item.id }}"  [src]="item.thumbnail_url" [alt]="item.title" />
                    </div>
                    <div class="featured-blog__sidebar__post__content">
                        <span routerLinkActive="active" routerLink="/profile/{{ item.author.id }}" class="featured-blog__sidebar__post__content__author">
                            <p-avatar [image]="item.author.profile_image"
                                styleClass="mr-2" shape="circle" />
                            <p class="featured-blog__sidebar__post__content__author__meta">{{ item.author.full_name }} - {{
                                item.created_at | date: 'dd/MM/yyyy' }} • {{ item.min_read }} phút</p>
                        </span>
                        <h3 routerLinkActive="active" routerLink="/blog/{{ item.id }}" class="featured-blog__sidebar__post__content__title">{{ item.title }}</h3>
                        <p class="featured-blog__sidebar__post__content__subTitle">{{ item.description }}</p>
                        <div class="featured-blog__sidebar__post__content__tag-group">
                            <p-tag *ngFor="let tag of item.blog_tag" [value]="tag.category.name" [rounded]="true" />
                        </div>
                    </div>
                </div>
            </ng-container>
        </div>
    </ng-container>
    <ng-template #loading>
        <div class="featured-blog__main">
            <div class="border-round border-1 surface-border p-4 surface-card">
                <p-skeleton width="100%" height="150px" />
                <div class="flex mt-3">
                    <div>
                        <p-skeleton width="10rem" styleClass="mb-2" />
                        <p-skeleton width="5rem" styleClass="mb-2" />
                        <p-skeleton height=".5rem" />
                    </div>
                </div>
            </div>
        </div>

        <div class="featured-blog__sidebar">
            <div class="border-round border-1 surface-border p-4 surface-card">
                <p-skeleton width="100%" height="150px" />
                <div class="flex mt-3">
                    <div>
                        <p-skeleton width="10rem" styleClass="mb-2" />
                        <p-skeleton width="5rem" styleClass="mb-2" />
                        <p-skeleton height=".5rem" />
                    </div>
                </div>
            </div>
        </div>
    </ng-template>
</div>